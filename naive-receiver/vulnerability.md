# Vulnerability Analysis - Naive Receiver

## Context
The system consists of two contracts:
- `NaiveReceiverLenderPool`: Provides flash loans with a fixed fee of 1 ETH
- `FlashLoanReceiver`: Receives flash loans and repays the amount + fees

## Attack Vector
The `flashLoan()` function of the pool is public and does not restrict who can initiate a loan for a given receiver:
```solidity
function flashLoan(address payable borrower, uint256 borrowAmount) external nonReentrant { ... }
```

Coupled with a high fixed fee (1 ETH) independent of the borrowed amount, this allows anyone to:
1. Call `flashLoan` targeting a vulnerable `FlashLoanReceiver`
2. Force the receiver to pay 1 ETH in fees per call
3. Repeat until the receiver is drained

## Technical Details
- The receiver only checks that `msg.sender == pool`, but not who initially called the pool
- Each call deducts 1 ETH in fees, regardless of the borrowed amount (even 1 wei)
- The receiver initially has 10 ETH, so 10 consecutive calls completely drain it

## Attack Flow Diagram
[See diagram](./diagrams/naive-receiver.png)